---
import BaseLayout from '@layouts/BaseLayout.astro';
import { client } from '@lib/sanity/client';
import { pageQuery } from '@lib/sanity/queries';

const lang = Astro.locals.lang || 'en';
const page = await client.fetch(pageQuery, { slug: 'about', language: lang });

if (!page) {
  return Astro.redirect('/404');
}
---

<BaseLayout
  title={page.seo?.metaTitle || page.title}
  description={page.seo?.metaDescription || undefined}
>
  <article class="container">
    <header>
      <h1>{page.title}</h1>
    </header>

    <!-- Render portable text content here -->
  </article>
</BaseLayout>

<style>
  header {
    margin-block-end: var(--space-2xl);
  }

  h1 {
    font-size: var(--font-size-4xl);
  }
</style>
